<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ورشة الرواد للألمنيوم | AL-RUWAD ALUMINUM</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Tahoma', Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #1a365d;
            --secondary: #d4af37;
            --accent: #2d3748;
            --light: #f7fafc;
            --dark: #1a202c;
        }
        
        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* الهيدر */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: white;
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            font-size: 2.5rem;
            color: var(--secondary);
        }
        
        .logo-text h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        
        .logo-text p {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s;
            padding: 8px 15px;
            border-radius: 5px;
        }
        
        nav a:hover {
            background-color: rgba(255,255,255,0.1);
            color: var(--secondary);
        }
        
        /* قسم الهيرو */
        .hero {
            background: linear-gradient(rgba(26, 54, 93, 0.9), rgba(45, 55, 72, 0.9)), url('https://images.unsplash.com/photo-1581094794329-c8112a89af12?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0;
            text-align: center;
        }
        
        .hero h2 {
            font-size: 3rem;
            margin-bottom: 20px;
            color: var(--secondary);
        }
        
        .hero p {
            font-size: 1.3rem;
            max-width: 800px;
            margin: 0 auto 30px;
        }
        
        .cta-button {
            display: inline-block;
            background-color: var(--secondary);
            color: var(--primary);
            padding: 15px 35px;
            font-size: 1.2rem;
            font-weight: bold;
            text-decoration: none;
            border-radius: 50px;
            margin: 10px;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border: none;
            cursor: pointer;
        }
        
        .cta-button:hover {
            background-color: white;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        /* الأقسام */
        .section {
            padding: 80px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .section-title h2 {
            font-size: 2.5rem;
            color: var(--primary);
            position: relative;
            display: inline-block;
            margin-bottom: 15px;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background-color: var(--secondary);
        }
        
        /* الخدمات */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .service-card {
            background: white;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }
        
        .service-icon {
            font-size: 3rem;
            color: var(--secondary);
            margin-bottom: 20px;
        }
        
        .service-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        /* كتالوج الصور */
        .catalog-filters {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 40px;
        }

        .filter-btn {
            padding: 12px 25px;
            background: white;
            border: 2px solid var(--primary);
            color: var(--primary);
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--primary);
            color: white;
        }

        .catalog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }

        .catalog-item {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s;
            background: white;
            cursor: pointer;
        }

        .catalog-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }

        .catalog-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
        }

        .catalog-info {
            padding: 20px;
            background: white;
        }

        .catalog-category {
            display: inline-block;
            background: var(--secondary);
            color: var(--primary);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .catalog-title {
            font-size: 1.2rem;
            color: var(--primary);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .catalog-date {
            color: #666;
            font-size: 0.9rem;
        }
        
        /* تتبع الطلبيات */
        .order-track {
            background-color: var(--primary);
            color: white;
            border-radius: 15px;
            padding: 50px;
            margin-top: 50px;
        }
        
        .track-form {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .form-group input {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            background-color: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid rgba(255,255,255,0.2);
        }
        
        .form-group input:focus {
            outline: none;
            border-color: var(--secondary);
        }
        
        /* حساب العميل */
        .client-account {
            background: linear-gradient(135deg, var(--secondary) 0%, #e6c158 100%);
            color: var(--primary);
            border-radius: 15px;
            padding: 50px;
            margin-top: 50px;
        }
        
        .account-info {
            background: rgba(255,255,255,0.9);
            padding: 30px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        /* التواصل */
        .contact-info {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            margin-top: 40px;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 15px;
            background: white;
            padding: 20px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            min-width: 300px;
        }
        
        .contact-icon {
            font-size: 2rem;
            color: var(--secondary);
        }
        
        .whatsapp-btn {
            background-color: #25D366;
            color: white;
            padding: 12px 25px;
            border-radius: 50px;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
            margin-top: 10px;
            transition: all 0.3s;
        }
        
        .whatsapp-btn:hover {
            background-color: #128C7E;
            transform: scale(1.05);
        }
        
        /* الفوتر */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 60px 0 30px;
            margin-top: 80px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-logo h3 {
            font-size: 1.8rem;
            color: var(--secondary);
            margin-bottom: 15px;
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.7);
        }
        
        /* الأزرار الإدارية */
        .admin-panel {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .admin-btn {
            background-color: var(--secondary);
            color: var(--primary);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            text-decoration: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }
        
        .admin-btn:hover {
            transform: scale(1.1);
            background-color: white;
        }
        
        /* النافذة المنبثقة */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* تنبيهات */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--secondary);
            color: var(--primary);
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            z-index: 10001;
            animation: slideIn 0.3s;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* التجاوب */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
                gap: 20px;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
                gap: 15px;
            }
            
            .hero h2 {
                font-size: 2.2rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .order-track, .client-account {
                padding: 30px 20px;
            }
        }
        
        /* الرسوم المتحركة */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }
        
        /* التحميل */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: var(--secondary);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- الهيدر -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-industry"></i>
                </div>
                <div class="logo-text">
                    <h1>الرواد للألمنيوم</h1>
                    <p>AL-RUWAD ALUMINUM</p>
                </div>
            </div>
            
            <nav>
                <ul>
                    <li><a href="#home"><i class="fas fa-home"></i> الرئيسية</a></li>
                    <li><a href="#services"><i class="fas fa-tools"></i> خدماتنا</a></li>
                    <li><a href="#catalog"><i class="fas fa-images"></i> كتالوج الأعمال</a></li>
                    <li><a href="#pricing"><i class="fas fa-tag"></i> التسعيرات</a></li>
                    <li><a href="#account"><i class="fas fa-user"></i> حسابي</a></li>
                    <li><a href="#contact"><i class="fas fa-phone-alt"></i> التواصل</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- قسم الهيرو -->
    <section class="hero" id="home">
        <div class="container">
            <h2 class="fade-in">ورشة الرواد للألمنيوم</h2>
            <p class="fade-in">رواد في صناعة وتصميم الألمنيوم منذ عام 2005. نقدم أحدث التصاميم وأجود الخامات مع ضمان الجودة والدقة في التنفيذ.</p>
            <a href="#contact" class="cta-button fade-in">
                <i class="fab fa-whatsapp"></i> تواصل معنا على واتساب
            </a>
            <a href="#account" class="cta-button fade-in" style="background-color: white; color: var(--primary);">
                <i class="fas fa-user-circle"></i> الدخول لحسابي
            </a>
        </div>
    </section>

    <!-- خدماتنا -->
    <section class="section" id="services">
        <div class="container">
            <div class="section-title">
                <h2>خدماتنا المتكاملة</h2>
                <p>نقدم مجموعة شاملة من خدمات الألمنيوم لتلبية جميع احتياجاتك</p>
            </div>
            
            <div class="services-grid">
                <div class="service-card fade-in">
                    <div class="service-icon">
                        <i class="fas fa-window-maximize"></i>
                    </div>
                    <h3>نوافذ وأبواب الألمنيوم</h3>
                    <p>تصميم وتصنيع نوافذ وأبواب ألمنيوم عالية الجودة بمقاومة عالية للماء والعوامل الجوية</p>
                </div>
                
                <div class="service-card fade-in">
                    <div class="service-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <h3>واجهات المباني</h3>
                    <p>تنفيذ واجهات ألمنيوم معاصرة للمباني السكنية والتجارية بمواصفات عالمية</p>
                </div>
                
                <div class="service-card fade-in">
                    <div class="service-icon">
                        <i class="fas fa-th-large"></i>
                    </div>
                    <h3>مكاتب وقواطع</h3>
                    <p>تصنيع قواطع ومكاتب ألمنيوم لمكاتب العمل والمؤسسات بأنظمة فتح متنوعة</p>
                </div>
            </div>
        </div>
    </section>

    <!-- كتالوج الصور -->
    <section class="section" id="catalog" style="background-color: #f0f7ff;">
        <div class="container">
            <div class="section-title">
                <h2>كتالوج أعمالنا</h2>
                <p>معرض شامل لجميع مشاريعنا المنفذة بتقنية عالية</p>
            </div>
            
            <!-- فلتر التصنيفات -->
            <div class="catalog-filters">
                <button class="filter-btn active" data-filter="all">الكل</button>
                <button class="filter-btn" data-filter="windows">نوافذ</button>
                <button class="filter-btn" data-filter="doors">أبواب</button>
                <button class="filter-btn" data-filter="facades">واجهات</button>
                <button class="filter-btn" data-filter="partitions">قواطع</button>
            </div>
            
            <!-- معرض الكتالوج -->
            <div class="catalog-grid" id="catalogGrid">
                <!-- الصور ستضاف تلقائياً -->
            </div>
            
            <!-- تحميل المزيد -->
            <div style="text-align: center; margin-top: 40px;">
                <button id="loadMoreBtn" class="cta-button" style="background-color: var(--primary);">
                    <i class="fas fa-plus"></i> تحميل المزيد
                </button>
                <span id="imageCount" style="display: block; margin-top: 10px; color: var(--accent);"></span>
            </div>
            
            <!-- أدوات المسؤول (مخفية حتى الدخول) -->
            <div id="catalogAdminTools" style="display: none; margin-top: 50px; padding: 30px; background: white; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.08);">
                <h3 style="text-align: center; margin-bottom: 25px; color: var(--primary);">
                    <i class="fas fa-images"></i> إدارة كتالوج الصور
                </h3>
                
                <!-- تحقق من المسؤول -->
                <div id="catalogLogin" style="text-align: center; padding: 20px;">
                    <h4>الدخول كمسؤول</h4>
                    <input type="password" id="catalogAdminPass" placeholder="أدخل كلمة مرور المسؤول" style="padding: 12px; width: 300px; max-width: 100%; border: 2px solid #ddd; border-radius: 8px; margin: 10px;">
                    <br>
                    <button id="catalogLoginBtn" class="cta-button" style="background-color: var(--primary); margin-top: 15px;">
                        <i class="fas fa-sign-in-alt"></i> دخول
                    </button>
                </div>
                
                <!-- أدوات المسؤول (تظهر بعد الدخول) -->
                <div id="catalogControls" style="display: none;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 25px;">
                        <div>
                            <label style="display: block; margin-bottom: 10px; font-weight: bold;">
                                <i class="fas fa-upload"></i> رفع صور جديدة
                            </label>
                            <input type="file" id="catalogUpload" accept="image/*" multiple style="width: 100%; padding: 10px; border: 2px dashed var(--secondary); border-radius: 8px;">
                            <small style="color: #666; display: block; margin-top: 5px;">يمكنك اختيار عدة صور مرة واحدة</small>
                        </div>
                        
                        <div>
                            <label style="display: block; margin-bottom: 10px; font-weight: bold;">
                                <i class="fas fa-tags"></i> تصنيف الصورة
                            </label>
                            <select id="imageCategory" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
                                <option value="windows">نوافذ</option>
                                <option value="doors">أبواب</option>
                                <option value="facades">واجهات</option>
                                <option value="partitions">قواطع</option>
                            </select>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 10px; font-weight: bold;">
                            <i class="fas fa-heading"></i> عنوان الصورة
                        </label>
                        <input type="text" id="imageTitle" placeholder="أدخل عنواناً وصفيًا للصورة" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
                    </div>
                    
                    <div style="text-align: center;">
                        <button id="addToCatalogBtn" class="cta-button" style="background-color: var(--secondary); color: var(--primary);">
                            <i class="fas fa-plus-circle"></i> إضافة للكتالوج
                        </button>
                        <button id="manageCatalogBtn" class="cta-button" style="background-color: var(--accent); margin-right: 15px;">
                            <i class="fas fa-cog"></i> إدارة الكتالوج
                        </button>
                    </div>
                    
                    <!-- معاينة الصور المرفوعة -->
                    <div id="uploadPreview" style="margin-top: 30px; display: none;">
                        <h4 style="margin-bottom: 15px;">معاينة الصور المرفوعة:</h4>
                        <div id="previewContainer" style="display: flex; flex-wrap: wrap; gap: 15px;"></div>
                    </div>
                </div>
            </div>
            
            <!-- زر لإظهار أدوات الإدارة -->
            <div style="text-align: center; margin-top: 40px;">
                <button id="showAdminToolsBtn" class="cta-button" style="background-color: #666;">
                    <i class="fas fa-lock"></i> إظهار أدوات الإدارة
                </button>
            </div>
        </div>
    </section>

    <!-- نافذة عرض الصورة -->
    <div id="imageModal" class="modal">
        <div class="modal-content" style="margin: auto; display: block; max-width: 90%; max-height: 90%;">
            <img id="modalImage" style="width: 100%; height: auto;">
        </div>
        <div id="modalCaption" style="margin: auto; display: block; width: 80%; max-width: 700px; text-align: center; color: #ccc; padding: 20px 0; font-size: 1.2rem;"></div>
        <button id="closeModal" style="position: absolute; top: 20px; right: 30px; color: white; font-size: 40px; font-weight: bold; background: none; border: none; cursor: pointer;">&times;</button>
        <button id="prevImage" style="position: absolute; top: 50%; left: 30px; color: white; font-size: 30px; background: rgba(0,0,0,0.5); border: none; padding: 15px; cursor: pointer; border-radius: 50%;"><i class="fas fa-chevron-left"></i></button>
        <button id="nextImage" style="position: absolute; top: 50%; right: 30px; color: white; font-size: 30px; background: rgba(0,0,0,0.5); border: none; padding: 15px; cursor: pointer; border-radius: 50%;"><i class="fas fa-chevron-right"></i></button>
        <button id="deleteImage" style="position: absolute; bottom: 30px; right: 30px; color: white; background: #e53e3e; border: none; padding: 12px 25px; cursor: pointer; border-radius: 5px; font-size: 1rem; display: none;"><i class="fas fa-trash"></i> حذف الصورة</button>
    </div>

    <!-- التسعيرات -->
    <section class="section" id="pricing">
        <div class="container">
            <div class="section-title">
                <h2>التسعيرات</h2>
                <p>أسعار عادلة وجودة لا تقارن</p>
            </div>

            <div class="services-grid">
                <div class="service-card">
                    <h3>نوافذ عادي</h3>
                    <div style="font-size: 2.5rem; color: var(--secondary); font-weight: bold; margin: 20px 0;">
                        240 ريال سعودي/م²
                    </div>
                    <ul style="text-align: right; list-style: none;">
                        <li><i class="fas fa-check" style="color: green; margin-left: 10px;"></i>المنيوم تيسيرسعودي</li>
                        <li><i class="fas fa-check" style="color: green; margin-left: 10px;"></i> عازل حراري وصوتي</li>
                        <li><i class="fas fa-check" style="color: green; margin-left: 10px;"></i> مقاوم للماء 100%</li>
                    </ul>  
                </div>

                <div class="service-card">
                    <h3>ابواب المنيوم ابيض عادي</h3>
                    <div style="font-size: 2.5rem; color: var(--secondary); font-weight: bold; margin: 20px 0;">
                        270 ريال سعودي/م²
                    </div>
                    <ul style="text-align: right; list-style: none;">
                        <li><i class="fas fa-check" style="color: green; margin-left: 10px;"></i>كيلون اصلي </li>
                        <li><i class="fas fa-check" style="color: green; margin-left: 10px;"></i> درفه 6ونص</li>
                        <li><i class="fas fa-check" style="color: green; margin-left: 10px;"></i>فيبر 4 ملي</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>ابواب رص المنيوم ابيض</h3>
                    <div style="font-size: 2.5rem; color: var(--secondary); font-weight: bold; margin: 20px 0;">
                        500 ريال سعودي/م²
                    </div>
                    <ul style="text-align: right; list-style: none;">
                        <li><i class="fas fa-check" style="color: green; margin-left: 10px;"></i> ألمنيوم عالي الجودة</li>
                        <li><i class="fas fa-check" style="color: green; margin-left: 10px;"></i>المنيوم تيسير سعودي</li>
                        <li><i class="fas fa-check" style="color: green; margin-left: 10px;"></i> تكتيم من الصوت</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>نوافذ سحاب</h3>
                    <div style="font-size: 2.5rem; color: var(--secondary); font-weight: bold; margin: 20px 0;">
                        300 ريال سعودي/م²
                    </div>
                    <ul style="text-align: right; list-style: none;">
                        <li><i class="fas fa-check" style="color: green; margin-left: 10px;"></i>نظام سحاب سعودي</li>
                        <li><i class="fas fa-check" style="color: green; margin-left: 10px;"></i> عازل حراري وصوتي</li>
                        <li><i class="fas fa-check" style="color: green; margin-left: 10px;"></i> مقاوم للماء 100%</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>واجهات زجاج سكريت</h3>
                    <div style="font-size: 2.5rem; color: var(--secondary); font-weight: bold; margin: 20px 0;">
                        200 ريال سعودي/م²
                    </div>
                    <ul style="text-align: right; list-style: none;">
                        <li><i class="fas fa-check" style="color: green; margin-left: 10px;"></i>زجاج 10 ملي</li>
                        <li><i class="fas fa-check" style="color: green; margin-left: 10px;"></i>ضد الحراره</li>
                        <li><i class="fas fa-check" style="color: green; margin-left: 10px;"></i> ضمان 10 سنوات</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- حساب العميل -->
    <section class="section" id="account">
        <div class="container">
            <div class="section-title">
                <h2>حسابي وتتبع الطلبيات</h2>
                <p>أدخل رقم حسابك لمتابعة طلبياتك وتفاصيل حسابك</p>
            </div>
            
            <div class="client-account">
                <div class="track-form">
                    <div class="form-group">
                        <label for="clientNumber"><i class="fas fa-id-card"></i> رقم حسابك الخاص</label>
                        <input type="text" id="clientNumber" placeholder="أدخل الرقم الذي حصلت عليه من الإدارة">
                        <small style="color: rgba(255,255,255,0.8); display: block; margin-top: 5px;">كل عميل يحصل على رقم حساب خاص لمتابعة طلبياته</small>
                    </div>
                    
                    <button id="checkAccountBtn" class="cta-button" style="width: 100%; font-size: 1.2rem; background-color: white; color: var(--primary);">
                        <i class="fas fa-sign-in-alt"></i> الدخول إلى حسابي
                    </button>
                </div>
                
                <!-- معلومات الحساب (تظهر بعد الدخول) -->
                <div id="accountInfo" style="display: none; margin-top: 40px;">
                    <div class="account-info">
                        <h3 style="color: var(--primary); margin-bottom: 20px; border-bottom: 2px solid var(--secondary); padding-bottom: 10px;">
                            <i class="fas fa-user-circle"></i> معلومات حسابك
                        </h3>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
                            <div>
                                <p><strong>رقم الحساب:</strong> <span id="accountNumber"></span></p>
                                <p><strong>اسم العميل:</strong> <span id="clientName"></span></p>
                                <p><strong>تاريخ التسجيل:</strong> <span id="registerDate"></span></p>
                            </div>
                            <div>
                                <p><strong>الحالة:</strong> <span id="accountStatus" style="color: green; font-weight: bold;">نشط</span></p>
                                <p><strong>عدد الطلبيات:</strong> <span id="totalOrders"></span></p>
                                <p><strong>آخر زيارة:</strong> <span id="lastVisit"></span></p>
                            </div>
                        </div>
                        
                        <!-- الطلبيات -->
                        <h4 style="color: var(--primary); margin: 30px 0 20px;">
                            <i class="fas fa-clipboard-list"></i> طلبياتي
                        </h4>
                        
                        <div id="clientOrders" style="max-height: 300px; overflow-y: auto;">
                            <!-- الطلبيات ستظهر هنا -->
                        </div>
                        
                        <div style="text-align: center; margin-top: 30px;">
                            <button id="logoutBtn" class="cta-button" style="background-color: var(--primary); color: white;">
                                <i class="fas fa-sign-out-alt"></i> تسجيل الخروج
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- تتبع الطلبيات -->
    <section class="section" id="track">
        <div class="container">
            <div class="order-track">
                <div class="section-title" style="color: white;">
                    <h2>تتبع طلبيتك</h2>
                    <p>ادخل رقم طلبيتك لمعرفة حالتها</p>
                </div>
                
                <div class="track-form">
                    <div class="form-group">
                        <label for="orderNumber"><i class="fas fa-receipt"></i> رقم الطلبية</label>
                        <input type="text" id="orderNumber" placeholder="مثال: AL2025001">
                    </div>
                    
                    <div class="form-group">
                        <label for="trackPhone"><i class="fas fa-phone"></i> رقم الجوال</label>
                        <input type="tel" id="trackPhone" placeholder="05XXXXXXXX">
                    </div>
                    
                    <button id="trackOrderBtn" class="cta-button" style="width: 100%; font-size: 1.2rem;">
                        <i class="fas fa-search"></i> تتبع الطلبية
                    </button>
                    
                    <div id="trackResult" style="margin-top: 30px; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 10px; display: none;">
                        <h3 id="orderStatusTitle"></h3>
                        <p id="orderStatusDetails"></p>
                        <div id="orderProgress" style="margin-top: 20px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- التواصل -->
    <section class="section" id="contact" style="background-color: #f8f9fa;">
        <div class="container">
            <div class="section-title">
                <h2>تواصل معنا</h2>
                <p>نحن هنا لخدمتك على مدار الساعة</p>
            </div>
            
            <div class="contact-info">
                <div class="contact-item fade-in">
                    <div class="contact-icon">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <div>
                        <h3>واتساب للعملاء</h3>
                        <p>خدمة العملاء والاستفسارات</p>
                        <a href="https://wa.me/+967773746072" class="whatsapp-btn" target="_blank">
                            <i class="fab fa-whatsapp"></i> 773746072
                        </a>
                    </div>
                </div>
                
                <div class="contact-item fade-in">
                    <div class="contact-icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <div>
                        <h3>الهاتف</h3>
                        <p>من الساعة 8 صباحاً حتى 12 مساءً</p>
                        <p style="font-size: 1.3rem; font-weight: bold; color: var(--primary);">773746072</p>
                    </div>
                </div>
                
                <div class="contact-item fade-in">
                    <div class="contact-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div>
                        <h3>العنوان</h3>
                        <p>مارب الشبواني شارع التلفزيون تحت قاعه السلطان</p>
                        <p>ورشة الرواد للألمنيوم</p>
                    </div>
                </div>
            </div>
            
            <!-- نموذج التواصل -->
            <div style="max-width: 800px; margin: 50px auto 0; background: white; padding: 40px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.08);">
                <h3 style="text-align: center; margin-bottom: 30px; color: var(--primary);">أرسل استفسارك</h3>
                
                <div class="form-group">
                    <label for="name"><i class="fas fa-user"></i> الاسم الكامل</label>
                    <input type="text" id="name" placeholder="ادخل اسمك">
                </div>
                
                <div class="form-group">
                    <label for="email"><i class="fas fa-envelope"></i> البريد الإلكتروني</label>
                    <input type="email" id="email" placeholder="example@email.com">
                </div>
                
                <div class="form-group">
                    <label for="message"><i class="fas fa-comment"></i> الرسالة</label>
                    <textarea id="message" rows="5" placeholder="اكتب رسالتك هنا..." style="width: 100%; padding: 15px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 1rem;"></textarea>
                </div>
                
                <button id="sendMessageBtn" class="cta-button" style="width: 100%;">
                    <i class="fas fa-paper-plane"></i> إرسال الرسالة
                </button>
            </div>
        </div>
    </section>

    <!-- الفوتر -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h3>الرواد للألمنيوم</h3>
                    <p>جودة تدوم.. وثقة تبنى</p>
                    <p style="margin-top: 20px; opacity: 0.8;">نحن رواد في مجال الألمنيوم منذ عام 2015، نقدم حلولاً مبتكرة وجودة لا تقارن.</p>
                </div>
                
                <div>
                    <h3 style="color: var(--secondary); margin-bottom: 20px;">روابط سريعة</h3>
                    <ul style="list-style: none;">
                        <li><a href="#home" style="color: white; text-decoration: none; display: block; margin-bottom: 10px;"><i class="fas fa-chevron-left"></i> الرئيسية</a></li>
                        <li><a href="#services" style="color: white; text-decoration: none; display: block; margin-bottom: 10px;"><i class="fas fa-chevron-left"></i> خدماتنا</a></li>
                        <li><a href="#catalog" style="color: white; text-decoration: none; display: block; margin-bottom: 10px;"><i class="fas fa-chevron-left"></i> كتالوج الأعمال</a></li>
                        <li><a href="#account" style="color: white; text-decoration: none; display: block; margin-bottom: 10px;"><i class="fas fa-chevron-left"></i> حسابي</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 style="color: var(--secondary); margin-bottom: 20px;">معلومات الاتصال</h3>
                    <p><i class="fas fa-phone" style="margin-left: 10px;"></i> 773746072</p>
                    <p><i class="fab fa-whatsapp" style="margin-left: 10px;"></i> واتساب: 773746072</p>
                    <p><i class="fas fa-clock" style="margin-left: 10px;"></i> 8:00 ص - 12:00 م</p>
                </div>
            </div>
            
            <div class="copyright">
                <p>© 2024 ورشة الرواد للألمنيوم. جميع الحقوق محفوظة.</p>
                <p style="margin-top: 10px; font-size: 0.9rem;">تم التطوير بواسطة فريق الرواد</p>
            </div>
        </div>
    </footer>

    <!-- لوحة التحكم (للمسؤول) -->
    <div class="admin-panel">
        <a href="#admin" class="admin-btn" id="adminToggle">
            <i class="fas fa-cog"></i>
        </a>
        
        <div id="adminPanel" style="display: none; position: absolute; bottom: 70px; right: 0; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); width: 300px;">
            <h3 style="color: var(--primary); margin-bottom: 15px;"><i class="fas fa-user-shield"></i> لوحة التحكم</h3>
            
            <div style="margin-bottom: 15px;">
                <label>كلمة المرور</label>
                <input type="password" id="adminPass" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
            </div>
            
            <button id="adminLoginBtn" class="cta-button" style="width: 100%; padding: 10px; background-color: var(--primary);">
                <i class="fas fa-sign-in-alt"></i> دخول المسؤول
            </button>
            
            <div id="adminControls" style="display: none; margin-top: 20px;">
                <h4>المميزات المتاحة:</h4>
                <ul style="list-style: none; padding: 0;">
                    <li><button class="admin-feature" data-feature="create-client"><i class="fas fa-user-plus"></i> إنشاء عميل جديد</button></li>
                    <li><button class="admin-feature" data-feature="clients"><i class="fas fa-users"></i> إدارة العملاء</button></li>
                    <li><button class="admin-feature" data-feature="orders"><i class="fas fa-clipboard-list"></i> إدارة الطلبيات</button></li>
                    <li><button class="admin-feature" data-feature="messages"><i class="fas fa-envelope"></i> الرسائل الواردة</button></li>
                    <li><button class="admin-feature" data-feature="prices"><i class="fas fa-tag"></i> تعديل الأسعار</button></li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // بيانات التطبيق
        const appData = {
            adminPassword: "ruwad2024",
            orders: {
                "AL2025001": { 
                    clientNumber: "C1001",
                    status: "قيد التنفيذ", 
                    details: "جارٍ تصنيع النوافذ", 
                    progress: 60,
                    clientName: "أحمد محمد",
                    orderDate: "2024-01-15",
                    total: 4500
                },
                "AL2025002": { 
                    clientNumber: "C1002",
                    status: "جاهز للتسليم", 
                    details: "يمكنك استلام طلبيتك", 
                    progress: 100,
                    clientName: "سارة عبدالله",
                    orderDate: "2024-01-20",
                    total: 3200
                },
                "AL2025003": { 
                    clientNumber: "C1003",
                    status: "قيد التصميم", 
                    details: "مرحلة التصميم الأولي", 
                    progress: 30,
                    clientName: "خالد الفهد",
                    orderDate: "2024-02-01",
                    total: 7800
                }
            },
            clients: {
                "C1001": {
                    name: "أحمد محمد",
                    phone: "0512345678",
                    registerDate: "2024-01-10",
                    status: "نشط",
                    orders: ["AL2025001"],
                    lastVisit: "2024-03-15"
                },
                "C1002": {
                    name: "سارة عبدالله",
                    phone: "0587654321",
                    registerDate: "2024-01-18",
                    status: "نشط",
                    orders: ["AL2025002"],
                    lastVisit: "2024-03-10"
                },
                "C1003": {
                    name: "خالد الفهد",
                    phone: "0598765432",
                    registerDate: "2024-01-30",
                    status: "نشط",
                    orders: ["AL2025003"],
                    lastVisit: "2024-03-05"
                }
            },
            messages: []
        };

        // نظام حسابات العملاء
        class ClientSystem {
            constructor() {
                this.currentClient = null;
                this.init();
            }
            
            init() {
                this.loadClients();
                this.setupEventListeners();
            }
            
            loadClients() {
                const saved = localStorage.getItem('ruwad_clients');
                if (saved) {
                    Object.assign(appData.clients, JSON.parse(saved));
                }
            }
            
            saveClients() {
                localStorage.setItem('ruwad_clients', JSON.stringify(appData.clients));
            }
            
            setupEventListeners() {
                // دخول العميل
                document.getElementById('checkAccountBtn').addEventListener('click', () => this.loginClient());
                
                // تسجيل الخروج
                document.getElementById('logoutBtn')?.addEventListener('click', () => this.logoutClient());
            }
            
            loginClient() {
                const clientNumber = document.getElementById('clientNumber').value.trim().toUpperCase();
                
                if (!clientNumber) {
                    this.showToast('الرجاء إدخال رقم الحساب', 'warning');
                    return;
                }
                
                if (appData.clients[clientNumber]) {
                    this.currentClient = clientNumber;
                    this.showClientInfo();
                    this.showToast('تم الدخول بنجاح', 'success');
                } else {
                    // إذا كان رقم جديد، نسأل إذا يريد إنشاء حساب
                    if (confirm('رقم حساب غير مسجل. هل تريد إنشاء حساب جديد؟')) {
                        this.createNewClient(clientNumber);
                    } else {
                        this.showToast('رقم الحساب غير صحيح', 'error');
                    }
                }
            }
            
            createNewClient(clientNumber) {
                const name = prompt('أدخل اسمك الكامل:');
                if (!name) return;
                
                const phone = prompt('أدخل رقم جوالك:');
                if (!phone) return;
                
                appData.clients[clientNumber] = {
                    name: name,
                    phone: phone,
                    registerDate: new Date().toISOString().split('T')[0],
                    status: "نشط",
                    orders: [],
                    lastVisit: new Date().toISOString().split('T')[0]
                };
                
                this.saveClients();
                this.currentClient = clientNumber;
                this.showClientInfo();
                this.showToast(`تم إنشاء حسابك برقم: ${clientNumber}`, 'success');
            }
            
            showClientInfo() {
                if (!this.currentClient || !appData.clients[this.currentClient]) return;
                
                const client = appData.clients[this.currentClient];
                const accountInfo = document.getElementById('accountInfo');
                
                // تحديث المعلومات
                document.getElementById('accountNumber').textContent = this.currentClient;
                document.getElementById('clientName').textContent = client.name;
                document.getElementById('registerDate').textContent = client.registerDate;
                document.getElementById('totalOrders').textContent = client.orders.length;
                document.getElementById('lastVisit').textContent = new Date().toLocaleDateString('ar-SA');
                
                // عرض الطلبيات
                this.showClientOrders();
                
                // إظهار قسم المعلومات
                accountInfo.style.display = 'block';
                
                // تمرير للقسم
                setTimeout(() => {
                    document.getElementById('account').scrollIntoView({ behavior: 'smooth' });
                }, 100);
            }
            
            showClientOrders() {
                const client = appData.clients[this.currentClient];
                const ordersContainer = document.getElementById('clientOrders');
                
                if (!client.orders || client.orders.length === 0) {
                    ordersContainer.innerHTML = '<p style="text-align: center; color: #666;">لا توجد طلبيات سابقة</p>';
                    return;
                }
                
                let ordersHtml = '';
                client.orders.forEach(orderId => {
                    const order = appData.orders[orderId];
                    if (order) {
                        ordersHtml += `
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px; border-right: 4px solid var(--secondary);">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                    <strong>${orderId}</strong>
                                    <span style="color: ${order.progress === 100 ? 'green' : 'orange'}">${order.status}</span>
                                </div>
                                <p>${order.details}</p>
                                <div style="display: flex; justify-content: space-between; margin-top: 10px; color: #666; font-size: 0.9rem;">
                                    <span>${order.orderDate}</span>
                                    <span>${order.total} ريال</span>
                                </div>
                                <div style="margin-top: 10px;">
                                    <div style="background: #e2e8f0; height: 8px; border-radius: 4px; overflow: hidden;">
                                        <div style="background: ${order.progress === 100 ? 'green' : 'var(--secondary)'}; 
                                                 width: ${order.progress}%; height: 100%;"></div>
                                    </div>
                                    <div style="text-align: center; margin-top: 5px; font-size: 0.8rem;">${order.progress}% مكتمل</div>
                                </div>
                            </div>
                        `;
                    }
                });
                
                ordersContainer.innerHTML = ordersHtml;
            }
            
            logoutClient() {
                this.currentClient = null;
                document.getElementById('accountInfo').style.display = 'none';
                document.getElementById('clientNumber').value = '';
                this.showToast('تم تسجيل الخروج', 'info');
            }
            
            showToast(message, type = 'info') {
                const toast = document.createElement('div');
                toast.className = 'toast';
                toast.textContent = message;
                
                const colors = {
                    'success': '#38a169',
                    'error': '#e53e3e',
                    'warning': '#d69e2e',
                    'info': 'var(--secondary)'
                };
                
                toast.style.background = colors[type] || colors.info;
                
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    toast.style.animation = 'slideIn 0.3s reverse';
                    setTimeout(() => toast.remove(), 300);
                }, 3000);
            }
        }

        // كتالوج الصور المتقدم
        class ImageCatalog {
            constructor() {
                this.images = JSON.parse(localStorage.getItem('ruwad_catalog') || '[]');
                this.currentFilter = 'all';
                this.currentImageIndex = 0;
                this.isAdmin = false;
                this.init();
            }
            
            init() {
                this.checkAdminStatus();
                this.renderCatalog();
                this.setupEventListeners();
                this.updateImageCount();
            }
            
            checkAdminStatus() {
                const saved = localStorage.getItem('ruwad_admin_logged_in');
                this.isAdmin = saved === 'true';
                if (this.isAdmin) {
                    this.showAdminTools();
                }
            }
            
            requireAdmin(action) {
                if (!this.isAdmin) {
                    const password = prompt(`أدخل كلمة مرور المسؤول ${action ? 'ل' + action : ''}:`);
                    if (password === 'ruwad2024' || password === appData.adminPassword) {
                        this.isAdmin = true;
                        localStorage.setItem('ruwad_admin_logged_in', 'true');
                        this.showAdminTools();
                        return true;
                    } else {
                        this.showToast('كلمة المرور غير صحيحة', 'error');
                        return false;
                    }
                }
                return true;
            }
            
            showAdminTools() {
                const tools = document.getElementById('catalogAdminTools');
                const loginDiv = document.getElementById('catalogLogin');
                const controlsDiv = document.getElementById('catalogControls');
                
                if (tools && loginDiv && controlsDiv) {
                    tools.style.display = 'block';
                    loginDiv.style.display = 'none';
                    controlsDiv.style.display = 'block';
                }
            }
            
            hideAdminTools() {
                const tools = document.getElementById('catalogAdminTools');
                if (tools) {
                    tools.style.display = 'none';
                }
            }
            
            renderCatalog() {
                const grid = document.getElementById('catalogGrid');
                if (!grid) return;
                
                grid.innerHTML = '';
                
                const filteredImages = this.currentFilter === 'all' 
                    ? this.images 
                    : this.images.filter(img => img.category === this.currentFilter);
                
                filteredImages.forEach((image, index) => {
                    const item = this.createCatalogItem(image, index);
                    grid.appendChild(item);
                });
                
                this.updateImageCount();
            }
            
            createCatalogItem(image, index) {
                const item = document.createElement('div');
                item.className = 'catalog-item fade-in';
                item.dataset.index = index;
                
                const categoryLabels = {
                    'windows': 'نوافذ',
                    'doors': 'أبواب',
                    'facades': 'واجهات',
                    'partitions': 'قواطع'
                };
                
                item.innerHTML = `
                    <img src="${image.src}" alt="${image.title}" loading="lazy">
                    <div class="catalog-info">
                        <span class="catalog-category">${categoryLabels[image.category] || image.category}</span>
                        <h3 class="catalog-title">${image.title}</h3>
                        <div class="catalog-date">${image.date}</div>
                    </div>
                `;
                
                item.addEventListener('click', () => this.openModal(index));
                return item;
            }
            
            setupEventListeners() {
                // الفلتر
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                        e.target.classList.add('active');
                        this.currentFilter = e.target.dataset.filter;
                        this.renderCatalog();
                    });
                });
                
                // زر إظهار أدوات الإدارة
                document.getElementById('showAdminToolsBtn').addEventListener('click', () => {
                    if (this.requireAdmin('إدارة الكتالوج')) {
                        this.showAdminTools();
                    }
                });
                
                // الدخول كمسؤول للكتالوج
                document.getElementById('catalogLoginBtn')?.addEventListener('click', () => {
                    const password = document.getElementById('catalogAdminPass').value;
                    if (password === 'ruwad2024' || password === appData.adminPassword) {
                        this.isAdmin = true;
                        localStorage.setItem('ruwad_admin_logged_in', 'true');
                        this.showAdminTools();
                        this.showToast('تم الدخول كمسؤول', 'success');
                    } else {
                        alert('كلمة المرور غير صحيحة');
                    }
                });
                
                // رفع الصور
                const uploadInput = document.getElementById('catalogUpload');
                if (uploadInput) {
                    uploadInput.addEventListener('change', (e) => this.handleUpload(e));
                }
                
                // إضافة للكتالوج
                const addBtn = document.getElementById('addToCatalogBtn');
                if (addBtn) {
                    addBtn.addEventListener('click', () => this.addToCatalog());
                }
                
                // إدارة الكتالوج
                const manageBtn = document.getElementById('manageCatalogBtn');
                if (manageBtn) {
                    manageBtn.addEventListener('click', () => this.manageCatalog());
                }
                
                // تحميل المزيد
                const loadMoreBtn = document.getElementById('loadMoreBtn');
                if (loadMoreBtn) {
                    loadMoreBtn.addEventListener('click', () => this.loadMoreImages());
                }
                
                // النافذة المنبثقة
                const closeModal = document.getElementById('closeModal');
                if (closeModal) {
                    closeModal.addEventListener('click', () => this.closeModal());
                }
                
                const prevBtn = document.getElementById('prevImage');
                const nextBtn = document.getElementById('nextImage');
                const deleteBtn = document.getElementById('deleteImage');
                
                if (prevBtn) prevBtn.addEventListener('click', () => this.navigateImage(-1));
                if (nextBtn) nextBtn.addEventListener('click', () => this.navigateImage(1));
                if (deleteBtn) deleteBtn.addEventListener('click', () => this.deleteCurrentImage());
                
                // إغلاق النافذة بالنقر خارجها
                const modal = document.getElementById('imageModal');
                if (modal) {
                    modal.addEventListener('click', (e) => {
                        if (e.target === modal) this.closeModal();
                    });
                }
            }
            
            handleUpload(event) {
                if (!this.requireAdmin('رفع صور')) return;
                
                const files = event.target.files;
                const previewContainer = document.getElementById('previewContainer');
                const uploadPreview = document.getElementById('uploadPreview');
                
                if (!files.length) return;
                
                previewContainer.innerHTML = '';
                uploadPreview.style.display = 'block';
                
                Array.from(files).forEach(file => {
                    if (!file.type.startsWith('image/')) return;
                    
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const preview = document.createElement('div');
                        preview.style.cssText = 'width: 120px; height: 120px; position: relative;';
                        preview.innerHTML = `
                            <img src="${e.target.result}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;">
                            <div style="position: absolute; top: 5px; right: 5px; background: rgba(0,0,0,0.7); color: white; width: 25px; height: 25px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; cursor: pointer;" onclick="window.imageCatalog.removePreview(this)">×</div>
                        `;
                        preview.dataset.src = e.target.result;
                        previewContainer.appendChild(preview);
                    };
                    reader.readAsDataURL(file);
                });
            }
            
            addToCatalog() {
                if (!this.requireAdmin('إضافة صور')) return;
                
                const previews = document.querySelectorAll('#previewContainer > div');
                const category = document.getElementById('imageCategory').value;
                const title = document.getElementById('imageTitle').value || 'صورة بدون عنوان';
                
                if (previews.length === 0) {
                    this.showToast('يرجى رفع صور أولاً', 'warning');
                    return;
                }
                
                previews.forEach(preview => {
                    const newImage = {
                        src: preview.dataset.src,
                        title: title,
                        category: category,
                        date: new Date().toLocaleDateString('ar-SA'),
                        timestamp: Date.now()
                    };
                    
                    this.images.unshift(newImage);
                });
                
                this.saveCatalog();
                this.renderCatalog();
                this.clearUploadForm();
                
                this.showToast(`تم إضافة ${previews.length} صورة للكتالوج`, 'success');
            }
            
            clearUploadForm() {
                document.getElementById('catalogUpload').value = '';
                document.getElementById('imageTitle').value = '';
                const previewContainer = document.getElementById('previewContainer');
                const uploadPreview = document.getElementById('uploadPreview');
                if (previewContainer) previewContainer.innerHTML = '';
                if (uploadPreview) uploadPreview.style.display = 'none';
            }
            
            saveCatalog() {
                localStorage.setItem('ruwad_catalog', JSON.stringify(this.images));
            }
            
            openModal(index) {
                this.currentImageIndex = parseInt(index);
                const image = this.images[this.currentImageIndex];
                
                if (!image) return;
                
                const modal = document.getElementById('imageModal');
                const modalImage = document.getElementById('modalImage');
                const modalCaption = document.getElementById('modalCaption');
                const deleteBtn = document.getElementById('deleteImage');
                
                modalImage.src = image.src;
                modalCaption.textContent = `${image.title} - ${image.date}`;
                
                // إظهار زر الحذف فقط للمسؤول
                if (deleteBtn) {
                    deleteBtn.style.display = this.isAdmin ? 'block' : 'none';
                }
                
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
            }
            
            closeModal() {
                document.getElementById('imageModal').style.display = 'none';
                document.body.style.overflow = 'auto';
            }
            
            navigateImage(direction) {
                const filteredImages = this.currentFilter === 'all' 
                    ? this.images 
                    : this.images.filter(img => img.category === this.currentFilter);
                
                if (filteredImages.length === 0) return;
                
                let currentFilteredIndex = filteredImages.findIndex(img => 
                    img.timestamp === this.images[this.currentImageIndex].timestamp
                );
                
                currentFilteredIndex = (currentFilteredIndex + direction + filteredImages.length) % filteredImages.length;
                this.currentImageIndex = this.images.findIndex(img => 
                    img.timestamp === filteredImages[currentFilteredIndex].timestamp
                );
                
                this.openModal(this.currentImageIndex);
            }
            
            deleteCurrentImage() {
                if (!this.requireAdmin('حذف صورة')) return;
                
                if (!confirm('هل أنت متأكد من حذف هذه الصورة؟')) return;
                
                this.images.splice(this.currentImageIndex, 1);
                this.saveCatalog();
                this.renderCatalog();
                this.closeModal();
                this.showToast('تم حذف الصورة بنجاح', 'success');
            }
            
            manageCatalog() {
                if (!this.requireAdmin('إدارة الكتالوج')) return;
                
                let catalogHtml = '<h3>إدارة كتالوج الصور</h3>';
                catalogHtml += `<p>عدد الصور: ${this.images.length}</p>`;
                
                if (this.images.length === 0) {
                    catalogHtml += '<p>لا توجد صور في الكتالوج</p>';
                } else {
                    catalogHtml += '<div style="max-height: 400px; overflow-y: auto; margin-top: 20px;">';
                    
                    this.images.forEach((image, index) => {
                        catalogHtml += `
                            <div style="display: flex; align-items: center; padding: 15px; border-bottom: 1px solid #eee; gap: 15px;">
                                <img src="${image.src}" style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px;">
                                <div style="flex: 1;">
                                    <strong>${image.title}</strong><br>
                                    <small>${image.category} - ${image.date}</small>
                                </div>
                                <button onclick="window.imageCatalog.deleteImage(${index})" style="background: #e53e3e; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">حذف</button>
                            </div>
                        `;
                    });
                    
                    catalogHtml += '</div>';
                }
                
                catalogHtml += '<button onclick="window.imageCatalog.exportCatalog()" style="margin-top: 20px; padding: 10px 20px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer;"><i class="fas fa-download"></i> تصدير الكتالوج</button>';
                catalogHtml += '<button onclick="window.imageCatalog.importCatalog()" style="margin-top: 20px; margin-right: 15px; padding: 10px 20px; background: var(--secondary); color: var(--primary); border: none; border-radius: 5px; cursor: pointer;"><i class="fas fa-upload"></i> استيراد كتالوج</button>';
                
                this.showAlert(catalogHtml);
            }
            
            deleteImage(index) {
                if (!this.requireAdmin('حذف صورة')) return;
                
                if (!confirm('هل تريد حذف هذه الصورة؟')) return;
                
                this.images.splice(index, 1);
                this.saveCatalog();
                this.renderCatalog();
                this.showToast('تم حذف الصورة', 'success');
            }
            
            exportCatalog() {
                const dataStr = JSON.stringify(this.images, null, 2);
                const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
                
                const exportFileDefaultName = `ruwad-catalog-${new Date().toISOString().split('T')[0]}.json`;
                
                const linkElement = document.createElement('a');
                linkElement.setAttribute('href', dataUri);
                linkElement.setAttribute('download', exportFileDefaultName);
                linkElement.click();
                
                this.showToast('تم تصدير الكتالوج بنجاح', 'success');
            }
            
            importCatalog() {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = '.json';
                
                input.onchange = e => {
                    const file = e.target.files[0];
                    const reader = new FileReader();
                    
                    reader.onload = event => {
                        try {
                            const importedData = JSON.parse(event.target.result);
                            if (Array.isArray(importedData)) {
                                this.images = [...importedData, ...this.images];
                                this.saveCatalog();
                                this.renderCatalog();
                                this.showToast(`تم استيراد ${importedData.length} صورة`, 'success');
                            } else {
                                this.showToast('ملف غير صالح', 'error');
                            }
                        } catch (error) {
                            this.showToast('خطأ في قراءة الملف', 'error');
                        }
                    };
                    
                    reader.readAsText(file);
                };
                
                input.click();
            }
            
            loadMoreImages() {
                this.showToast('تم تحميل المزيد من الصور', 'info');
            }
            
            updateImageCount() {
                const countElement = document.getElementById('imageCount');
                if (countElement) {
                    const total = this.images.length;
                    const filtered = this.currentFilter === 'all' 
                        ? total 
                        : this.images.filter(img => img.category === this.currentFilter).length;
                    
                    countElement.textContent = `عرض ${filtered} من ${total} صورة`;
                }
            }
            
            showToast(message, type = 'info') {
                const toast = document.createElement('div');
                toast.className = 'toast';
                toast.textContent = message;
                
                const colors = {
                    'success': '#38a169',
                    'error': '#e53e3e',
                    'warning': '#d69e2e',
                    'info': 'var(--secondary)'
                };
                
                toast.style.background = colors[type] || colors.info;
                
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    toast.style.animation = 'slideIn 0.3s reverse';
                    setTimeout(() => toast.remove(), 300);
                }, 3000);
            }
            
            showAlert(html) {
                const alertDiv = document.createElement('div');
                alertDiv.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: white;
                    padding: 30px;
                    border-radius: 15px;
                    box-shadow: 0 10px 40px rgba(0,0,0,0.3);
                    z-index: 10000;
                    max-width: 90%;
                    max-height: 80vh;
                    overflow-y: auto;
                    width: 500px;
                `;
                
                alertDiv.innerHTML = html + '<br><button onclick="this.parentElement.remove()" style="margin-top:20px; padding:10px 20px; background:var(--primary); color:white; border:none; border-radius:5px; cursor:pointer;">إغلاق</button>';
                
                document.body.appendChild(alertDiv);
                
                const overlay = document.createElement('div');
                overlay.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.5);
                    z-index: 9999;
                `;
                overlay.onclick = () => {
                    alertDiv.remove();
                    overlay.remove();
                };
                
                document.body.appendChild(overlay);
            }
            
            removePreview(element) {
                element.parentElement.remove();
            }
        }

        // نظام إدارة المسؤول
        class AdminSystem {
            constructor() {
                this.isLoggedIn = localStorage.getItem('ruwad_admin_logged_in') === 'true';
                this.init();
            }
            
            init() {
                this.setupEventListeners();
                if (this.isLoggedIn) {
                    document.getElementById('adminControls').style.display = 'block';
                }
            }
            
            setupEventListeners() {
                // زر فتح لوحة التحكم
                document.getElementById('adminToggle').addEventListener('click', (e) => {
                    e.preventDefault();
                    const panel = document.getElementById('adminPanel');
                    panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
                });
                
                // دخول المسؤول
                document.getElementById('adminLoginBtn').addEventListener('click', () => this.login());
                
                // مميزات المسؤول
                document.querySelectorAll('.admin-feature').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const feature = btn.getAttribute('data-feature');
                        this.handleFeature(feature);
                    });
                });
            }
            
            login() {
                const password = document.getElementById('adminPass').value;
                const controls = document.getElementById('adminControls');
                const loginBtn = document.getElementById('adminLoginBtn');
                
                if (password === appData.adminPassword) {
                    this.isLoggedIn = true;
                    localStorage.setItem('ruwad_admin_logged_in', 'true');
                    controls.style.display = 'block';
                    loginBtn.innerHTML = '<i class="fas fa-check"></i> تم الدخول';
                    loginBtn.style.backgroundColor = '#38a169';
                    this.showToast('تم الدخول كمسؤول بنجاح', 'success');
                } else {
                    this.showToast('كلمة المرور غير صحيحة', 'error');
                }
            }
            
            handleFeature(feature) {
                if (!this.isLoggedIn) {
                    this.showToast('الرجاء تسجيل الدخول أولاً', 'warning');
                    return;
                }
                
                switch(feature) {
                    case 'create-client':
                        this.createNewClient();
                        break;
                    case 'clients':
                        this.manageClients();
                        break;
                    case 'orders':
                        this.manageOrders();
                        break;
                    case 'messages':
                        this.showMessages();
                        break;
                    case 'prices':
                        this.editPrices();
                        break;
                }
            }
            
            createNewClient() {
                // توليد رقم عميل عشوائي
                let clientId;
                do {
                    clientId = 'C' + Math.floor(1000 + Math.random() * 9000);
                } while (appData.clients[clientId]);
                
                const name = prompt('اسم العميل:');
                if (!name) return;
                
                const phone = prompt('رقم الجوال:');
                if (!phone) return;
                
                appData.clients[clientId] = {
                    name: name,
                    phone: phone,
                    registerDate: new Date().toISOString().split('T')[0],
                    status: "نشط",
                    orders: [],
                    lastVisit: new Date().toISOString().split('T')[0]
                };
                
                // حفظ في localStorage
                localStorage.setItem('ruwad_clients', JSON.stringify(appData.clients));
                
                alert(`تم إنشاء حساب جديد:
رقم الحساب: ${clientId}
اسم العميل: ${name}
رقم الجوال: ${phone}

أعط هذا الرقم للعميل ليتابع طلبياته`);
            }
            
            manageClients() {
                let html = '<h3>إدارة العملاء</h3>';
                html += `<p>عدد العملاء: ${Object.keys(appData.clients).length}</p>`;
                
                html += '<div style="max-height: 400px; overflow-y: auto; margin-top: 20px;">';
                
                for (const [clientId, client] of Object.entries(appData.clients)) {
                    html += `
                        <div style="border: 1px solid #ddd; padding: 15px; margin-bottom: 10px; border-radius: 8px;">
                            <strong>${clientId}</strong> - ${client.name}<br>
                            <small>الهاتف: ${client.phone} | تاريخ التسجيل: ${client.registerDate}</small><br>
                            <small>عدد الطلبيات: ${client.orders.length} | الحالة: <span style="color: green">${client.status}</span></small>
                        </div>
                    `;
                }
                
                html += '</div>';
                html += '<button onclick="window.adminSystem.createNewClient()" style="margin-top: 20px; padding: 10px 20px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer;"><i class="fas fa-plus"></i> إنشاء عميل جديد</button>';
                
                this.showAlert(html);
            }
            
            manageOrders() {
                let html = '<h3>إدارة الطلبيات</h3>';
                html += `<p>عدد الطلبيات: ${Object.keys(appData.orders).length}</p>`;
                
                html += '<div style="max-height: 400px; overflow-y: auto; margin-top: 20px;">';
                
                for (const [orderId, order] of Object.entries(appData.orders)) {
                    html += `
                        <div style="border: 1px solid #ddd; padding: 15px; margin-bottom: 10px; border-radius: 8px;">
                            <strong>${orderId}</strong> - ${order.clientName}<br>
                            <small>رقم العميل: ${order.clientNumber} | الحالة: ${order.status}</small><br>
                            <small>التقدم: ${order.progress}% | المبلغ: ${order.total} ريال</small><br>
                            <small>التاريخ: ${order.orderDate} | التفاصيل: ${order.details}</small>
                        </div>
                    `;
                }
                
                html += '</div>';
                
                this.showAlert(html);
            }
            
            showMessages() {
                const savedMessages = JSON.parse(localStorage.getItem('ruwad_messages') || '[]');
                
                if (savedMessages.length === 0) {
                    alert('لا توجد رسائل واردة');
                    return;
                }
                
                let html = '<h3>الرسائل الواردة</h3>';
                savedMessages.forEach((msg, index) => {
                    html += `<div style="border:1px solid #ddd; padding:15px; margin-bottom:10px; border-radius:5px;">
                        <strong>${msg.name}</strong> (${msg.email})<br>
                        <small>${msg.date}</small><br>
                        <p>${msg.message}</p>
                    </div>`;
                });
                
                this.showAlert(html);
            }
            
            editPrices() {
                const prices = {
                    normalWindow: prompt('سعر النوافذ العادية (ريال/م²):', '240'),
                    normalDoor: prompt('سعر الأبواب العادية (ريال/م²):', '270'),
                    slidingWindow: prompt('سعر النوافذ السحاب (ريال/م²):', '300'),
                    solidDoor: prompt('سعر أبواب الرص (ريال/م²):', '500'),
                    glassFacade: prompt('سعر واجهات الزجاج (ريال/م²):', '200')
                };
                
                if (prices.normalWindow && prices.normalDoor && prices.slidingWindow && prices.solidDoor && prices.glassFacade) {
                    // تحديث الأسعار في الصفحة
                    const priceElements = document.querySelectorAll('#pricing .service-card');
                    if (priceElements.length >= 5) {
                        priceElements[0].querySelector('div').textContent = prices.normalWindow + ' ريال سعودي/م²';
                        priceElements[1].querySelector('div').textContent = prices.normalDoor + ' ريال سعودي/م²';
                        priceElements[2].querySelector('div').textContent = prices.solidDoor + ' ريال سعودي/م²';
                        priceElements[3].querySelector('div').textContent = prices.slidingWindow + ' ريال سعودي/م²';
                        priceElements[4].querySelector('div').textContent = prices.glassFacade + ' ريال سعودي/م²';
                    }
                    
                    localStorage.setItem('ruwad_prices', JSON.stringify(prices));
                    this.showToast('تم تحديث الأسعار بنجاح!', 'success');
                }
            }
            
            showToast(message, type = 'info') {
                const toast = document.createElement('div');
                toast.className = 'toast';
                toast.textContent = message;
                
                const colors = {
                    'success': '#38a169',
                    'error': '#e53e3e',
                    'warning': '#d69e2e',
                    'info': 'var(--secondary)'
                };
                
                toast.style.background = colors[type] || colors.info;
                
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    toast.style.animation = 'slideIn 0.3s reverse';
                    setTimeout(() => toast.remove(), 300);
                }, 3000);
            }
            
            showAlert(html) {
                const alertDiv = document.createElement('div');
                alertDiv.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: white;
                    padding: 30px;
                    border-radius: 15px;
                    box-shadow: 0 10px 40px rgba(0,0,0,0.3);
                    z-index: 10000;
                    max-width: 90%;
                    max-height: 80vh;
                    overflow-y: auto;
                    width: 500px;
                `;
                
                alertDiv.innerHTML = html + '<br><button onclick="this.parentElement.remove(); document.querySelector(\'.modal-overlay\')?.remove()" style="margin-top:20px; padding:10px 20px; background:var(--primary); color:white; border:none; border-radius:5px; cursor:pointer;">إغلاق</button>';
                
                document.body.appendChild(alertDiv);
                
                const overlay = document.createElement('div');
                overlay.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.5);
                    z-index: 9999;
                `;
                overlay.onclick = () => {
                    alertDiv.remove();
                    overlay.remove();
                };
                overlay.className = 'modal-overlay';
                
                document.body.appendChild(overlay);
            }
        }

        // عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            // تهيئة النظام
            window.clientSystem = new ClientSystem();
            window.adminSystem = new AdminSystem();
            
            // إضافة صور افتراضية للكتالوج
            const defaultImages = [
                {
                    src: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
                    title: 'نوافذ ألمنيوم حديثة',
                    category: 'windows',
                    date: '2024-01-15',
                    timestamp: 1705348800000
                },
                {
                    src: 'https://images.unsplash.com/photo-1513584684374-8bab748fbf90?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
                    title: 'باب ألمنيوم فاخر',
                    category: 'doors',
                    date: '2024-01-20',
                    timestamp: 1705790400000
                }
            ];
            
            const savedCatalog = localStorage.getItem('ruwad_catalog');
            if (!savedCatalog) {
                localStorage.setItem('ruwad_catalog', JSON.stringify(defaultImages));
            }
            
            // إنشاء كتالوج الصور
            window.imageCatalog = new ImageCatalog();
            
            // تنعيم التمرير
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // تتبع الطلبيات
            document.getElementById('trackOrderBtn').addEventListener('click', function() {
                const orderNumber = document.getElementById('orderNumber').value.trim().toUpperCase();
                const phone = document.getElementById('trackPhone').value.trim();
                
                if (!orderNumber || !phone) {
                    alert('الرجاء إدخال رقم الطلبية ورقم الجوال');
                    return;
                }
                
                const resultDiv = document.getElementById('trackResult');
                const statusTitle = document.getElementById('orderStatusTitle');
                const statusDetails = document.getElementById('orderStatusDetails');
                const progressDiv = document.getElementById('orderProgress');
                
                if (appData.orders[orderNumber]) {
                    const order = appData.orders[orderNumber];
                    
                    // التحقق من رقم الجوال
                    const client = appData.clients[order.clientNumber];
                    if (client && client.phone === phone) {
                        statusTitle.textContent = `حالة الطلبية ${orderNumber}: ${order.status}`;
                        statusDetails.textContent = `${order.details} - العميل: ${order.clientName}`;
                        
                        // شريط التقدم
                        progressDiv.innerHTML = `
                            <div style="background: #e2e8f0; height: 10px; border-radius: 5px; overflow: hidden;">
                                <div style="background: ${order.progress === 100 ? '#38a169' : '#d4af37'}; 
                                           width: ${order.progress}%; height: 100%; transition: width 1s;"></div>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                                <span>0%</span>
                                <span>${order.progress}%</span>
                                <span>100%</span>
                            </div>
                            <div style="margin-top: 15px; color: rgba(255,255,255,0.8);">
                                <p>تاريخ الطلب: ${order.orderDate}</p>
                                <p>المبلغ: ${order.total} ريال</p>
                            </div>
                        `;
                    } else {
                        statusTitle.textContent = 'بيانات غير متطابقة';
                        statusDetails.textContent = 'رقم الجوال لا يتطابق مع بيانات الطلبية';
                        progressDiv.innerHTML = '';
                    }
                    
                    resultDiv.style.display = 'block';
                } else {
                    statusTitle.textContent = 'لم يتم العثور على الطلبية';
                    statusDetails.textContent = 'الرجاء التحقق من رقم الطلبية';
                    progressDiv.innerHTML = '';
                    resultDiv.style.display = 'block';
                }
            });
            
            // إرسال رسالة
            document.getElementById('sendMessageBtn').addEventListener('click', function() {
                const name = document.getElementById('name').value.trim();
                const email = document.getElementById('email').value.trim();
                const message = document.getElementById('message').value.trim();
                
                if (!name || !email || !message) {
                    alert('الرجاء ملء جميع الحقول');
                    return;
                }
                
                const btn = this;
                const originalText = btn.innerHTML;
                btn.innerHTML = '<span class="loading"></span> جاري الإرسال...';
                btn.disabled = true;
                
                setTimeout(() => {
                    // إضافة الرسالة للبيانات
                    if (!appData.messages) appData.messages = [];
                    appData.messages.push({
                        name: name,
                        email: email,
                        message: message,
                        date: new Date().toLocaleString('ar-SA')
                    });
                    
                    // حفظ في localStorage
                    localStorage.setItem('ruwad_messages', JSON.stringify(appData.messages));
                    
                    btn.innerHTML = '<i class="fas fa-check"></i> تم الإرسال بنجاح';
                    btn.style.backgroundColor = '#38a169';
                    
                    // مسح الحقول
                    document.getElementById('name').value = '';
                    document.getElementById('email').value = '';
                    document.getElementById('message').value = '';
                    
                    setTimeout(() => {
                        btn.innerHTML = originalText;
                        btn.disabled = false;
                        btn.style.backgroundColor = '';
                    }, 3000);
                }, 1500);
            });
        });
    </script>
</body>
</html>
